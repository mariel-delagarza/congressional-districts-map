<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Congressional Districts Map</title>
    <link rel="stylesheet" href="css/style.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://unpkg.com/maplibre-gl@3.3.1/dist/maplibre-gl.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <div id="container">
      <div id="map-wrapper">
        <div id="map"></div>
        <div id="loading-overlay">Loading mapâ€¦</div>
      </div>
      <div id="info-panel">
        <h2 id="select-district">Select a district</h2>
        <div id="rep-info">
          <p id="rep-instructions">
            Click on any district to view its representative and demographic
            information.
          </p>
          <div id="rep-details" style="display: none">
            <div class="rep-header">
              <img id="rep-photo" src="" alt="Representative Photo" />
              <div class="rep-info-text">
                <span id="district-name">District Label</span>
                <a class="rep-name" href="#" target="_blank">Name (Party)</a>

                <div class="rep-contact-links">
                  <a id="rep-website" href="#" target="_blank"
                    >Official website</a
                  >
                  <a id="rep-contact-form" href="#" target="_blank"
                    >Contact form</a
                  >
                </div>

                <div class="rep-socials"></div>
              </div>
            </div>

            <div class="rep-details-content">
              <!-- <ul id="contact-links"></ul> -->

              <h3>Demographic Snapshot</h3>
              <p>Total Population: <span id="total-population"></span></p>
              <div id="demographic-bars">
                <h4>Who lives here?</h4>
                <div class="bar-row" id="row-under-17">
                  <span class="label">17 and Under</span>
                  <span class="value" id="value-under-17"></span>
                  <div class="bar-container">
                    <div class="bar" id="bar-under-17"></div>
                  </div>
                </div>
                <div class="bar-row" id="row-over-65">
                  <span class="label">65 and Over</span>
                  <span class="value" id="value-over-65"></span>
                  <div class="bar-container">
                    <div class="bar" id="bar-over-65"></div>
                  </div>
                </div>
                <div class="bar-row" id="row-disability">
                  <span class="label">Disabled adults</span>
                  <span class="value" id="value-disability"></span>
                  <div class="bar-container">
                    <div class="bar" id="bar-disability"></div>
                  </div>
                </div>
                <div class="bar-row" id="row-white">
                  <span class="label">White</span>
                  <span class="value" id="value-white"></span>
                  <div class="bar-container">
                    <div class="bar" id="bar-white"></div>
                  </div>
                </div>
                <div class="bar-row" id="row-black">
                  <span class="label">Black</span>
                  <span class="value" id="value-black"></span>
                  <div class="bar-container">
                    <div class="bar" id="bar-black"></div>
                  </div>
                </div>
                <div class="bar-row" id="row-indigenous">
                  <span class="label">Indigenous (total)</span>
                  <span class="value" id="value-indigenous"></span>
                  <div class="bar-container">
                    <div class="bar" id="bar-indigenous"></div>
                  </div>
                </div>
                <div class="bar-row" id="row-asian">
                  <span class="label">Asian</span>
                  <span class="value" id="value-asian"></span>
                  <div class="bar-container">
                    <div class="bar" id="bar-asian"></div>
                  </div>
                </div>
                <div class="bar-row" id="row-hispanic">
                  <span class="label">Hispanic (any race)</span>
                  <span class="value" id="value-hispanic"></span>
                  <div class="bar-container">
                    <div class="bar" id="bar-hispanic"></div>
                  </div>
                </div>
                <h4>Where are they from?</h4>
                <div class="bar-row" id="row-foreign">
                  <span class="label">Foreign-born</span>
                  <span class="value" id="value-foreign"></span>
                  <div class="bar-container">
                    <div class="bar" id="bar-foreign"></div>
                  </div>
                </div>
                <details>
                  <summary id="ancestry">
                    ANCESTRY (of total population)
                  </summary>
                  <div
                    class="bar-row"
                    id="row-american"
                    style="padding-top: 0.5rem"
                  >
                    <span class="label">American</span>
                    <span class="value" id="value-american"></span>
                    <div class="bar-container">
                      <div class="bar" id="bar-american"></div>
                    </div>
                  </div>
                  <div class="bar-row" id="row-arab">
                    <span class="label">Arab</span>
                    <span class="value" id="value-arab"></span>
                    <div class="bar-container">
                      <div class="bar" id="bar-arab"></div>
                    </div>
                  </div>
                  <div class="bar-row" id="row-cuban">
                    <span class="label">Cuban</span>
                    <span class="value" id="value-cuban"></span>
                    <div class="bar-container">
                      <div class="bar" id="bar-cuban"></div>
                    </div>
                  </div>
                  <div class="bar-row" id="row-czech">
                    <span class="label">Czech</span>
                    <span class="value" id="value-czech"></span>
                    <div class="bar-container">
                      <div class="bar" id="bar-czech"></div>
                    </div>
                  </div>
                  <div class="bar-row" id="row-danish">
                    <span class="label">Danish</span>
                    <span class="value" id="value-danish"></span>
                    <div class="bar-container">
                      <div class="bar" id="bar-danish"></div>
                    </div>
                  </div>
                  <div class="bar-row" id="row-dutch">
                    <span class="label">Dutch</span>
                    <span class="value" id="value-dutch"></span>
                    <div class="bar-container">
                      <div class="bar" id="bar-dutch"></div>
                    </div>
                  </div>
                  <div class="bar-row" id="row-english">
                    <span class="label">English</span>
                    <span class="value" id="value-english"></span>
                    <div class="bar-container">
                      <div class="bar" id="bar-english"></div>
                    </div>
                  </div>
                  <div class="bar-row" id="row-french-basque">
                    <span class="label">French (except Basque)</span>
                    <span class="value" id="value-french-basque"></span>
                    <div class="bar-container">
                      <div class="bar" id="bar-french-basque"></div>
                    </div>
                  </div>
                  <div class="bar-row" id="row-french-canadian">
                    <span class="label">French Canadian </span>
                    <span class="value" id="value-french-canadian"></span>
                    <div class="bar-container">
                      <div class="bar" id="bar-french-canadian"></div>
                    </div>
                  </div>
                  <div class="bar-row" id="row-german">
                    <span class="label">German</span>
                    <span class="value" id="value-german"></span>
                    <div class="bar-container">
                      <div class="bar" id="bar-german"></div>
                    </div>
                  </div>
                  <div class="bar-row" id="row-greek">
                    <span class="label">Greek</span>
                    <span class="value" id="value-greek"></span>
                    <div class="bar-container">
                      <div class="bar" id="bar-greek"></div>
                    </div>
                  </div>
                  <div class="bar-row" id="row-hungarian">
                    <span class="label">Hungarian</span>
                    <span class="value" id="value-hungarian"></span>
                    <div class="bar-container">
                      <div class="bar" id="bar-hungarian"></div>
                    </div>
                  </div>
                  <div class="bar-row" id="row-irish">
                    <span class="label">Irish</span>
                    <span class="value" id="value-irish"></span>
                    <div class="bar-container">
                      <div class="bar" id="bar-irish"></div>
                    </div>
                  </div>
                  <div class="bar-row" id="row-italian">
                    <span class="label">Italian</span>
                    <span class="value" id="value-italian"></span>
                    <div class="bar-container">
                      <div class="bar" id="bar-italian"></div>
                    </div>
                  </div>
                  <div class="bar-row" id="row-lithuanian">
                    <span class="label">Lithuanian</span>
                    <span class="value" id="value-lithuanian"></span>
                    <div class="bar-container">
                      <div class="bar" id="bar-lithuanian"></div>
                    </div>
                  </div>
                  <div class="bar-row" id="row-mexican">
                    <span class="label">Mexican</span>
                    <span class="value" id="value-mexican"></span>
                    <div class="bar-container">
                      <div class="bar" id="bar-mexican"></div>
                    </div>
                  </div>
                  <div class="bar-row" id="row-norwegian">
                    <span class="label">Norwegian</span>
                    <span class="value" id="value-norwegian"></span>
                    <div class="bar-container">
                      <div class="bar" id="bar-norwegian"></div>
                    </div>
                  </div>
                  <div class="bar-row" id="row-polish">
                    <span class="label">Polish</span>
                    <span class="value" id="value-polish"></span>
                    <div class="bar-container">
                      <div class="bar" id="bar-polish"></div>
                    </div>
                  </div>
                  <div class="bar-row" id="row-portuguese">
                    <span class="label">Portuguese</span>
                    <span class="value" id="value-portuguese"></span>
                    <div class="bar-container">
                      <div class="bar" id="bar-portuguese"></div>
                    </div>
                  </div>
                  <div class="bar-row" id="row-puerto-rican">
                    <span class="label">Puerto Rican</span>
                    <span class="value" id="value-puerto-rican"></span>
                    <div class="bar-container">
                      <div class="bar" id="bar-puerto-rican"></div>
                    </div>
                  </div>
                  <div class="bar-row" id="row-russian">
                    <span class="label">Russian</span>
                    <span class="value" id="value-russian"></span>
                    <div class="bar-container">
                      <div class="bar" id="bar-russian"></div>
                    </div>
                  </div>
                  <div class="bar-row" id="row-scotch-irish">
                    <span class="label">Scotch Irish</span>
                    <span class="value" id="value-scotch-irish"></span>
                    <div class="bar-container">
                      <div class="bar" id="bar-scotch-irish"></div>
                    </div>
                  </div>
                  <div class="bar-row" id="row-scottish">
                    <span class="label">Scottish</span>
                    <span class="value" id="value-scottish"></span>
                    <div class="bar-container">
                      <div class="bar" id="bar-scottish"></div>
                    </div>
                  </div>
                  <div class="bar-row" id="row-slovak">
                    <span class="label">Slovak</span>
                    <span class="value" id="value-slovak"></span>
                    <div class="bar-container">
                      <div class="bar" id="bar-slovak"></div>
                    </div>
                  </div>
                  <div class="bar-row" id="row-subsaharan-african">
                    <span class="label">Sub-Saharan African</span>
                    <span class="value" id="value-subsaharan-african"></span>
                    <div class="bar-container">
                      <div class="bar" id="bar-subsaharan-african"></div>
                    </div>
                  </div>
                  <div class="bar-row" id="row-swedish">
                    <span class="label">Swedish</span>
                    <span class="value" id="value-swedish"></span>
                    <div class="bar-container">
                      <div class="bar" id="bar-swedish"></div>
                    </div>
                  </div>
                  <div class="bar-row" id="row-swiss">
                    <span class="label">Swiss</span>
                    <span class="value" id="value-swiss"></span>
                    <div class="bar-container">
                      <div class="bar" id="bar-swiss"></div>
                    </div>
                  </div>
                  <div class="bar-row" id="row-ukrainian">
                    <span class="label">Ukrainian</span>
                    <span class="value" id="value-ukrainian"></span>
                    <div class="bar-container">
                      <div class="bar" id="bar-ukrainian"></div>
                    </div>
                  </div>
                  <div class="bar-row" id="row-welsh">
                    <span class="label">Welsh</span>
                    <span class="value" id="value-welsh"></span>
                    <div class="bar-container">
                      <div class="bar" id="bar-welsh"></div>
                    </div>
                  </div>
                  <div class="bar-row" id="row-west-indian">
                    <span class="label">West Indian</span>
                    <span class="value" id="value-west-indian"></span>
                    <div class="bar-container">
                      <div class="bar" id="bar-west-indian"></div>
                    </div>
                  </div>
                  <div class="bar-row" id="row-other-hispanic">
                    <span class="label">Other Hispanic or Latino</span>
                    <span class="value" id="value-other-hispanic"></span>
                    <div class="bar-container">
                      <div class="bar" id="bar-other-hispanic"></div>
                    </div>
                  </div>
                </details>

                <h4>How are they doing?</h4>
                <p>Median Income: <span id="median-income"></span></p>
                <div class="bar-row" id="row-under50">
                  <span class="label">Income under $50k</span>
                  <span class="value" id="value-under50"></span>
                  <div class="bar-container">
                    <div class="bar" id="bar-under50"></div>
                  </div>
                </div>
                <div class="bar-row" id="row-poverty">
                  <span class="label">Below Poverty</span>
                  <span class="value" id="value-poverty"></span>
                  <div class="bar-container">
                    <div class="bar" id="bar-poverty"></div>
                  </div>
                </div>
                <div class="bar-row" id="row-unemployment">
                  <span class="label">Unemployed</span>
                  <span class="value" id="value-unemployment"></span>
                  <div class="bar-container">
                    <div class="bar" id="bar-unemployment"></div>
                  </div>
                </div>
                <div class="bar-row" id="row-no-hs">
                  <span class="label">No HS Diploma</span>
                  <span class="value" id="value-no-hs"></span>
                  <div class="bar-container">
                    <div class="bar" id="bar-no-hs"></div>
                  </div>
                </div>
                <h4>What about healthcare?</h4>
                <div class="bar-row" id="row-with-health-insurance">
                  <span class="label">With health insurance</span>
                  <span class="value" id="value-with-health-insurance"></span>
                  <div class="bar-container">
                    <div class="bar" id="bar-with-health-insurance"></div>
                  </div>
                </div>
                <div class="bar-row" id="row-with-public-insurance">
                  <span class="label">With <strong>public</strong> insurance</span>
                  <span class="value" id="value-with-public-insurance"></span>
                  <div class="bar-container">
                    <div class="bar" id="bar-with-public-insurance"></div>
                  </div>
                </div>
                <div class="bar-row" id="row-under-19-without-insurance">
                  <span class="label">Under 19 without insurance</span>
                  <span
                    class="value"
                    id="value-under-19-without-insurance"
                  ></span>
                  <div class="bar-container">
                    <div class="bar" id="bar-under-19-without-insurance"></div>
                  </div>
                </div>
              </div>
              <!--end #demographic-bars -->
              <details>
                <summary>Get the Data</summary>
                <p>
                  The complete data can be found at the Census Bureau's website
                  <a href="https://www.census.gov/mycd/"
                    >"My Congressional District"</a
                  >. If you click on a state and a district, you will see the
                  complete information for that district. At the bottom, you
                  will see a share icon and the text "Download and Share".
                  Clicking on this provides the option to download the
                  information for only that district or for all districts in the
                  state.
                </p>
              </details>
              <details>
                <summary>Race and Ancestry</summary>
                <p>
                  The data presented here includes various racial and ancestral
                  categories as defined by the Census Bureau. I the ancestry
                  data personally interesting, but it does present a problem for
                  analysis.
                </p>
                <p>
                  I grouped "Mexican", "Puerto Rican", and "Cuban" under
                  ancestry, but they were originally in a separate "Hispanic or
                  Latino" category, neither race nor ancestry.
                </p>
                <p>
                  "Asian" is categorized in the data as a race. Though ancestry
                  data includes many European countries, there is no breakdown
                  for "Asian" populations beyond the inclusion of Russia.
                  <a
                    href="https://en.wikipedia.org/wiki/Asia#List_of_states_and_territories"
                    >Over 40 different countries are part of Asia.</a
                  >
                </p>
              </details>
              <details>
                <summary>Population Totals</summary>
                <p>
                  The U.S. Census Bureau provides several population totals to
                  use when analyzing this demographic data. One is the absolute
                  total population, which is provided above as "Total
                  Population". The others include: total civilian
                  noninstitutionalized population, total housing units, total
                  households, and the population aged 25 years or older.
                </p>
                <ul>
                  <li>
                    <strong
                      >Total Civilian Noninstitutionalized Population:</strong
                    >
                    <p>
                      The civilian noninstutitional population is defined as,
                      "People ages 15 or 16 and older residing in the 50 states
                      and the District of columbia who do not live in
                      institutions and who are not on Active Duty in the Armed
                      Forces." (<a href="https://www.bls.gov/bls/glossary.htm#C"
                        >BLS glossary</a
                      >)
                    </p>
                    <p>
                      Institutions include "adult correctional facilities,
                      juvenile facilities, skilled-nursing facilities, and other
                      institutional facilities such as mental (psychiatric)
                      hospitals and in-patient hospice facilities." (<a
                        href="https://www.census.gov/glossary/?term=Institutionalized+population"
                        >Census Bureau Glossary</a
                      >)
                    </p>
                    <p>
                      This number is used to calculate the percentage of people
                      with disabilities and the percentage of people with health
                      insurance.
                    </p>
                  </li>
                  <li>
                    <strong>Total Households:</strong>
                    <p>
                      This value is used when analyzing population income
                      levels. A "household" is defined as "all the people who
                      occupy a housing unit (such as a house or apartment) as
                      their usual place of residence". (<a
                        href="https://www.census.gov/glossary/?term=Household"
                        >Census Bureau Glossary</a
                      >)
                    </p>
                  </li>
                  <li>
                    <strong>Population Aged 25 Years or Older:</strong>
                    <p>
                      For demographic data involving education levels, the
                      Census Bureau provides the population aged 25 years or
                      older.
                    </p>
                  </li>
                </ul>
                <p>
                  The Census Bureau instructs that: "If calculating a
                  percentage, use the total population line within the section
                  as the denominator. Do not use total population lines from
                  other sections since these may have different universes."
                </p>
                <p>
                  The percentages shown in the bar charts were calculated in
                  accordance with this instruction.
                </p>
              </details>
            </div>
            <!--end .rep-details-content  -->
          </div>
        </div>
      </div>
    </div>

    <script src="https://unpkg.com/maplibre-gl@3.3.1/dist/maplibre-gl.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script type="module" src="javascript/script.js"></script>
    <script src="https://unpkg.com/topojson-client@3"></script>
  </body>
</html>
